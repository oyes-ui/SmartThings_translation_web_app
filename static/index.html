<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SAMSUNG Translation Checker AI</title>
    <link rel="stylesheet" href="style.css">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
        rel="stylesheet">
    <!-- SheetJS for preview -->
    <script src="https://cdn.sheetjs.com/xlsx-latest/package/dist/xlsx.full.min.js"></script>
</head>

<body>

    <div class="app-container">
        <!-- HEADER -->
        <header class="app-header">
            <div class="logo">
                <span class="logo-icon">âœ¨</span>
                <h1>Translation Checker AI</h1>
            </div>
            <div class="status-indicators">
                <div class="api-status online" id="apiStatus">
                    <span class="dot"></span> Gemini API Ready
                </div>
            </div>
        </header>

        <!-- MAIN LAYOUT -->
        <main class="main-content">

            <!-- LEFT PANEL: CONFIG -->
            <section class="panel config-panel">
                <div class="panel-header">
                    <h2>Configuration</h2>
                </div>
                <div class="panel-body">
                    <div class="config-item">
                        <label>Operation Mode</label>
                        <div class="radio-group">
                            <label class="radio-label">
                                <input type="radio" name="taskMode" value="integrated" checked>
                                <span class="radio-text">Translate + Inspect</span>
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="taskMode" value="translate_only">
                                <span class="radio-text">Only Translate</span>
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="taskMode" value="inspect_only">
                                <span class="radio-text">Only Inspect</span>
                            </label>
                        </div>
                    </div>

                    <div id="aiModelItem" class="config-item">
                        <label>AI Model Selection</label>
                        <select id="modelSelect" class="styled-select">
                            <optgroup label="Gemini 2.5 Series">
                                <option value="gemini-2.5-pro">Gemini 2.5 Pro</option>
                                <option value="gemini-2.5-flash" selected>Gemini 2.5 Flash</option>
                                <option value="gemini-2.5-flash-lite">Gemini 2.5 Flash Lite</option>
                            </optgroup>
                            <optgroup label="Gemini 2.0 Series">
                                <option value="gemini-2.0-flash">Gemini 2.0 Flash</option>
                                <option value="gemini-2.0-flash-lite">Gemini 2.0 Flash Lite</option>
                            </optgroup>
                            <optgroup label="Gemini 3.0 Series">
                                <option value="gemini-3-pro-preview">Gemini 3.0 Pro Preview</option>
                                <option value="gemini-3-flash-preview">Gemini 3.0 Flash Preview</option>
                            </optgroup>
                            <optgroup label="GPT Models">
                                <option value="gpt-5-pro">GPT-5 Pro</option>
                                <option value="gpt-5">GPT-5</option>
                                <option value="gpt-5-mini">GPT-5 Mini</option>
                                <option value="gpt-4.1">GPT-4.1</option>
                                <option value="gpt-4o">GPT-4o</option>
                                <option value="gpt-4o-mini">GPT-4o Mini</option>
                            </optgroup>
                        </select>
                    </div>

                    <div id="auditModelItem" class="config-item">
                        <label>Audit Model (Reasoning)</label>
                        <select id="auditModelSelect" class="styled-select">
                            <optgroup label="OpenAI GPT">
                                <option value="gpt-5-pro">GPT-5 Pro (Reasoning)</option>
                                <option value="gpt-5">GPT-5</option>
                                <option value="gpt-5-mini" selected>GPT-5 Mini</option>
                                <option value="gpt-4.1">GPT-4.1</option>
                                <option value="gpt-4o">GPT-4o</option>
                            </optgroup>
                            <optgroup label="Google Gemini">
                                <option value="gemini-2.5-pro">Gemini 2.5 Pro</option>
                                <option value="gemini-2.0-flash">Gemini 2.0 Flash</option>
                            </optgroup>
                        </select>
                    </div>

                    <div id="bxStyleItem" class="config-item">
                        <label class="toggle-label">
                            <input type="checkbox" id="bxStyleToggle">
                            <span class="toggle-text">Samsung BX Style Transcreation</span>
                        </label>
                        <p class="description">ON: Apply Persona (Confident Explorer) and Voice Attributes.</p>
                    </div>

                    <div class="config-item hidden">
                        <label>Source Language</label>
                        <select id="sourceLangSelect" class="styled-select">
                            <option value="English" selected>English</option>
                            <option value="Korean">Korean</option>
                            <option value="Japanese">Japanese</option>
                            <option value="Chinese">Chinese</option>
                            <option value="French">French</option>
                            <option value="German">German</option>
                            <option value="Spanish">Spanish</option>
                            <option value="Italian">Italian</option>
                            <option value="Russian">Russian</option>
                            <option value="Turkish">Turkish</option>
                            <option value="Vietnamese">Vietnamese</option>
                            <option value="Thai">Thai</option>
                            <option value="Indonesian">Indonesian</option>
                            <option value="Arabic">Arabic</option>
                        </select>
                    </div>

                    <div class="config-item">
                        <label>Glossary CSV Upload</label>
                        <div class="dropzone small-dropzone" id="glossaryDropzone">
                            <div class="icon">ğŸ“–</div>
                            <p>Drag & Drop <strong>Glossary CSV</strong></p>
                            <input type="file" id="glossaryInput" accept=".csv" hidden>
                            <div class="file-info" id="glossaryInfo">No file selected</div>
                        </div>
                    </div>

                    <div class="config-item">
                        <label>Sheet-Language Mapping (JSON)</label>
                        <textarea id="sheetConfig" class="code-editor" spellcheck="false">{
  "KR(í•œêµ­)":    { "lang": "Korean",      "code": "í•œêµ­ì–´" },
  "US(ë¯¸êµ­)":    { "lang": "English",     "code": "ì˜ì–´_ë¯¸êµ­" },
  "UK(ì˜êµ­)":    { "lang": "English_UK",     "code": "ì˜ì–´_ì˜êµ­" },
  "AU(í˜¸ì£¼)":    { "lang": "English_AU",     "code": "ì˜ì–´_í˜¸ì£¼" },
  "SG(ì‹±ê°€í¬ë¥´)": { "lang": "English_SG",     "code": "ì˜ì–´_ì‹±ê°€í´" },
  "FR(í”„ë‘ìŠ¤)":  { "lang": "French",      "code": "í”„ë‘ìŠ¤ì–´_í”„ë‘ìŠ¤" },
  "BE(ë²¨ê¸°ì—)":  { "lang": "French_Belgium",      "code": "í”„ë‘ìŠ¤ì–´_ë²¨ê¸°ì—" },
  "CA(ìºë‚˜ë‹¤)":  { "lang": "French_Canada",      "code": "í”„ë‘ìŠ¤ì–´_ìºë‚˜ë‹¤" },
  "DE(ë…ì¼)":    { "lang": "German",      "code": "ë…ì–´_ë…ì¼" },
  "IT(ì´íƒˆë¦¬ì•„)": { "lang": "Italian",     "code": "ì´íƒˆë¦¬ì•„" },
  "ES(ìŠ¤í˜ì¸)":  { "lang": "Spanish",     "code": "ìŠ¤í˜ì¸ì–´_ìŠ¤í˜ì¸" },
  "NL(ë„¤ëœë€ë“œ)": { "lang": "Dutch",       "code": "ë„¤ëœë€ë“œì–´_ë„¤ëœë€ë“œ" },
  "SE(ìŠ¤ì›¨ë´)":  { "lang": "Swedish",     "code": "ìŠ¤ì›¨ë´" },
  "AE(ì•„ëì—ë©”ë¦¬íŠ¸)": { "lang": "Arabic", "code": "ì•„ëì—ë¯¸ë¦¬íŠ¸" },
  "PT(í¬ë¥´íˆ¬ê°ˆ)": { "lang": "Portuguese",  "code": "í¬ë¥´íˆ¬ê°ˆ_í¬ë¥´íˆ¬ê°ˆ" },
  "BR(ë¸Œë¼ì§ˆ)":  { "lang": "Portuguese",  "code": "í¬ë£¨íˆ¬ê°ˆ_ë¸Œë¼ì§ˆ" },
  "RU(ëŸ¬ì‹œì•„)":  { "lang": "Russian",     "code": "ëŸ¬ì‹œì•„" },
  "TR(í„°í‚¤)":    { "lang": "Turkish",     "code": "í„°í‚¤" },
  "CN(ì¤‘êµ­)":    { "lang": "Chinese",     "code": "ê°„ì²´_ì¤‘êµ­ì–´" },
  "TW(ëŒ€ë§Œ)":    { "lang": "Chinese",     "code": "ë²ˆì²´_ëŒ€ë§Œ" },
  "JA(ì¼ë³¸)":    { "lang": "Japanese",    "code": "ì¼ë³¸" },
  "PL(í´ë€ë“œ)":  { "lang": "Polish",      "code": "í´ë€ë“œ" },
  "VN(ë² íŠ¸ë‚¨)":  { "lang": "Vietnamese",  "code": "ë² íŠ¸ë‚¨" },
  "TH(íƒœêµ­)":    { "lang": "Thai",        "code": "íƒœêµ­" },
  "ID(ì¸ë„ë„¤ì‹œì•„)": { "lang": "Indonesian","code": "ì¸ë„ë„¤ì‹œì•„" }
}</textarea>
                    </div>

                    <div class="config-actions">
                        <button id="saveConfigBtn" class="btn secondary">Validate Config</button>
                    </div>
                </div>
            </section>

            <!-- CENTER PANEL: UPLOAD & CONTROL -->
            <section class="panel upload-panel">
                <div class="panel-header">
                    <h2>Files & Execution</h2>
                </div>
                <div class="panel-body">

                    <div class="main-dropzone-container">
                        <div class="dropzone premium-dropzone" id="sourceDropzone">
                            <div class="glass-overlay"></div>
                            <div class="icon-orb">âœ¨</div>
                            <div class="dropzone-text">
                                <h3>Upload Workbook</h3>
                                <p>Drag & Drop your <strong>Source Excel (.xlsx)</strong></p>
                                <span class="sub-text">The system will automatically map and translate all
                                    sheets.</span>
                            </div>
                            <input type="file" id="sourceInput" accept=".xlsx" hidden>
                            <div class="file-info" id="sourceInfo"></div>
                        </div>
                    </div>

                    <div id="sheetSelectionArea" class="hidden">
                        <div class="sheet-selection-header">
                            <h3>Sheet Mapping (Select Source & Targets)</h3>
                            <div class="sheet-controls">
                                <button type="button" id="selectAllSheets" class="text-btn">Select All Targets</button>
                                <span class="sep">|</span>
                                <button type="button" id="deselectAllSheets" class="text-btn">Deselect All
                                    Targets</button>
                            </div>
                        </div>
                        <div class="sheet-list-header">
                            <span class="header-col src">Source</span>
                            <span class="header-col tgt">Target</span>
                            <span class="header-col name">Sheet Name</span>
                            <span class="header-col lang">Language Info</span>
                        </div>
                        <div class="sheet-list" id="sheetList">
                            <!-- Checkboxes injected here -->
                        </div>
                    </div>

                    <div class="config-item">
                        <label>Cell Range (e.g., A2:C100 or C:C)</label>
                        <div class="input-group">
                            <input type="text" id="cellRange" value="C7:C28" placeholder="C7:C28">
                        </div>
                    </div>

                    <div class="action-area">
                        <button id="startBtn" class="btn primary large" disabled>Start Inspection</button>
                    </div>
                </div>
            </section>

            <!-- RIGHT PANEL: MONITORING -->
            <section class="panel monitor-panel">
                <div class="panel-header">
                    <h2>Live Progress</h2>
                    <span id="progressPercent">0%</span>
                </div>
                <div class="panel-body">

                    <div class="progress-container">
                        <div class="progress-bar-track">
                            <div class="progress-bar-fill" id="progressBar" style="width: 0%"></div>
                        </div>
                        <div class="progress-stats">
                            <span id="progressCount">0 / 0</span> items
                        </div>
                    </div>

                    <div class="terminal-window" id="terminal">
                        <div class="terminal-line system">Waiting for tasks...</div>
                    </div>

                    <div class="download-area hidden" id="downloadArea">
                        <a id="downloadLink" href="#" download class="btn success full-width">Download Review Report
                            (.txt)</a>
                    </div>
                </div>
            </section>

        </main>
    </div>

    <script src="app.js"></script>
</body>

</html>